{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","search","searchChangeHandler","value","onChange","PersonForm","onSubmit","nameChangeHandler","numberChangeHandler","newName","newNumber","type","Person","person","deleteHandler","className","name","number","onClick","Persons","props","persons","map","key","Notification","message","baseURL","axios","get","then","resp","data","newPerson","post","personId","delete","updatedPerson","put","id","App","useState","setPersons","setNewName","setNewNumber","setSearch","filtered","setFiltered","errorMessage","setErrorMessage","useEffect","personServices","initPersons","updatePerson","updatedPersons","p","showNotif","catch","error","setTimeout","event","target","console","log","filter","indexOf","e","preventDefault","duplicatePerson","find","window","confirm","concat","err","response","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9eeba895.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({search, searchChangeHandler}) =>\n\t<div>filter shown with <input value={search} onChange={searchChangeHandler}/></div>\n\nexport default Filter;","import React from \"react\";\n\nconst PersonForm = ({onSubmit, nameChangeHandler, numberChangeHandler, newName, newNumber}) => {\n\treturn (\n\t\t<form onSubmit={onSubmit}>\n\t\t\t<div>\n\t\t\t\tname: <input value={newName} onChange={nameChangeHandler}/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input value={newNumber} onChange={numberChangeHandler}/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm;","import React from \"react\";\n\nconst Person = ({person, deleteHandler}) => {\n\treturn (\n\t\t<div className=\"person\">\n\t\t\t<p>{person.name} {person.number}</p>\n\t\t\t<button onClick={() => deleteHandler(person)}>delete</button>\n\t\t</div>\n\t)\n}\n\n// const Person = ({person}) => {\n// \treturn (\n// \t\t<div>\n// \t\t\t<h1>{person.name}</h1>\n// \t\t\t<p>Capital: {person.capital}</p>\n// \t\t\t<p>Population: {person.population}</p>\n// \t\t\t<h2>Languages</h2>\n// \t\t\t<ul>\n// \t\t\t\t{person.languages.map(language => <li key={language.name}>{language.name}</li>)}\n// \t\t\t</ul>\n// \t\t\t<img src={person.flag}/>\n// \t\t</div>\n// \t)\n// }\n\nexport default Person;","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = (props) => {\n\treturn (\n\t\t<div>\n\t\t\t{props.persons.map(person => <Person\n\t\t\t\tkey={person.name}\n\t\t\t\tperson={person}\n\t\t\t\tdeleteHandler={props.deleteHandler}\n\t\t\t/>)}\n\t\t</div>\n\t)\n}\nexport default Persons;","import React from \"react\";\n\nconst Notification = ({message}) => {\n\treturn (!message) ? null : (\n\t\t<div className=\"error\">\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification;","import axios from 'axios';\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n\treturn axios\n\t.get(baseURL)\n\t.then(resp => resp.data)\n}\n\nconst addPerson = newPerson => {\n\treturn axios\n\t.post(baseURL, newPerson)\n\t.then(resp => resp.data)\n}\n\nconst deletePerson = personId => {\n\treturn axios\n\t.delete(`${baseURL}/${personId}`)\n}\n\nconst updatePerson = (updatedPerson) => {\n\treturn axios\n\t.put(`${baseURL}/${updatedPerson.id}`, updatedPerson)\n\t.then(resp => resp.data)\n}\n\nexport default {getAll, addPerson, deletePerson, updatePerson}","import React, {useEffect, useState} from 'react';\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personServices from \"./services/persons\"\n\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([])\n\tconst [ newName, setNewName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ search, setSearch ] = useState('')\n\tconst [ filtered, setFiltered ] = useState(persons)\n\tconst [ errorMessage, setErrorMessage ] = useState(\"\")\n\n\tuseEffect(() => {\n\t\tpersonServices.getAll()\n\t\t.then(initPersons => {\n\t\t\tsetPersons(initPersons);\n\t\t\tsetFiltered(initPersons);\n\t\t})\n\t}, [])\n\tconst addNewName = (e) => {\n\t\te.preventDefault();\n\t\tconst duplicatePerson = persons.find(person => person.name === newName)\n\t\tif (duplicatePerson) {\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t\treturn updatePerson(duplicatePerson)\n\t\t\t}\n\t\t} else {\n\t\t\tpersonServices.addPerson({\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber\n\t\t\t})\n\t\t\t.then(newPerson => {\n\t\t\t\tsetPersons(persons.concat(newPerson))\n\t\t\t\tsetFiltered(persons.concat(newPerson))\n\t\t\t\tshowNotif(`${newPerson.name} successfully added`)\n\t\t\t\tsetNewName(\"\")\n\t\t\t\tsetNewNumber(\"\")\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err.response.data);\n\t\t\t\tshowNotif(err.response.data.error);\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t}\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t}\n\n\tconst handleSearchChange = (event) => {\n\t\tsetSearch(event.target.value);\n\t\tconsole.log(event.target.value);\n\t\tsetFiltered(persons.filter(function(person) {\n\t\t\treturn person.name.indexOf(event.target.value) > -1\n\t\t}))\n\t}\n\n\tconst deletePerson = person => {\n\t\tif (!window.confirm(`Delete ${person.name} ?`)) return;\n\t\tpersonServices.deletePerson(person.id)\n\t\t.then(() => personServices.getAll())\n\t\t.then(persons => {\n\t\t\tsetPersons(persons);\n\t\t\tsetFiltered(persons);\n\t\t})\n\t\t.then(() => {\n\t\t\tshowNotif(`${person.name} successfully deleted`)\n\t\t})\n\t\t.catch(error => {\n\t\t\tsetErrorMessage('Error')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorMessage(null)\n\t\t\t}, 5000)\n\t\t\tsetPersons(persons.filter(p => p.id !== person.id))\n\t\t})\n\t}\n\n\tconst updatePerson = person => {\n\t\tconst updatedPerson = {...person, number: newNumber};\n\t\treturn personServices.updatePerson(updatedPerson)\n\t\t.then(resp => {\n\t\t\tconst updatedPersons = persons.map(p => p.id === resp.id ? resp : p);\n\t\t\tshowNotif(`${resp.name}'s number has been successfully updated to ${resp.number}`)\n\t\t\tsetPersons(updatedPersons)\n\t\t\tsetFiltered(updatedPersons)\n\t\t\tsetNewName('')\n\t\t\tsetNewNumber('')\n\t\t})\n\t\t.catch(error => {\n\t\t\tshowNotif(`Information on ${person.name} has already been removed from the server`)\n\t\t})\n\t}\n\n\tconst showNotif = (message) => {\n\t\tsetErrorMessage(message);\n\t\tsetTimeout(() => {\n\t\t\tsetErrorMessage(null)\n\t\t}, 5000);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Notification message={errorMessage} />\n\t\t\t<Filter searchChangeHandler={handleSearchChange} search={search}/>\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\tonSubmit={addNewName}\n\t\t\t\tnameChangeHandler = {handleNameChange}\n\t\t\t\tnumberChangeHandler = {handleNumberChange}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={filtered} deleteHandler={deletePerson}/>\n\t\t</div>\n\n\t)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}